package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.ResultSet;
import Database.DatabaseConnection;

public final class download_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.Vector _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public Object getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("    <head>\n");
      out.write("        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n");
      out.write("       \n");
      out.write("       \n");
      out.write("        <link href=\"./js/style.css\" rel=\"stylesheet\" type=\"text/css\" />\n");
      out.write("        <link type=\"text/css\" href=\"./js/ui.all.css\" rel=\"stylesheet\" />\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/jquery-1.3.2.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/jquery-1.4.2.min.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/ui.core.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/ui.tabs.js\"></script>\n");
      out.write("         <link type=\"text/css\" href=\"./js/guest_css.css\" rel=\"stylesheet\" />\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/guest_validation.js\"></script>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\" src=\"./js/ui.datepicker.js\"></script>\n");
      out.write("        <link type=\"text/css\" href=\"./js/demos.css\" rel=\"stylesheet\" />\n");
      out.write("        <link type=\"text/css\" href=\"./js/style.css\" rel=\"stylesheet\" />\n");
      out.write("\n");
      out.write("        <title>JSP Page</title>\n");
      out.write("        <script type=\"text/javascript\">\n");
      out.write("            $(function() {\n");
      out.write("                \n");
      out.write("                $('#datepicker').datepicker({\n");
      out.write("                    changeMonth: true,\n");
      out.write("                    changeYear: true\n");
      out.write("                    \n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            $(function() {\n");
      out.write("                $('#datepicker1').datepicker({\n");
      out.write("                    changeMonth: true,\n");
      out.write("                    changeYear: true\n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("         \n");
      out.write("        </script>\n");
      out.write("        <script type=\"text/javascript\" >\n");
      out.write("            var flag=-1;\n");
      out.write("            //alert(flag);\n");
      out.write("            function disabledcities(){\n");
      out.write("                flag=flag*-1;\n");
      out.write("                \n");
      out.write("                if(flag==-1){\n");
      out.write("                    document.getElementById(\"cities\").disabled=true;\n");
      out.write("                }\n");
      out.write("                else{\n");
      out.write("                    document.getElementById(\"cities\").disabled=false;\n");
      out.write("                }\n");
      out.write("                // emptyiframe();\n");
      out.write("            }\n");
      out.write("            function emptyiframe(){\n");
      out.write("                var doc = document.getElementById('showlink').contentWindow.document;\n");
      out.write("                doc.open();\n");
      out.write("                doc.write('<html><head><title></title></head><body></body></html>');\n");
      out.write("                doc.close();\n");
      out.write("            }\n");
      out.write("        </script>\n");
      out.write("         <script type=\"text/javascript\" src=\"./js/ui.tabs.js\"></script>\n");
      out.write("        \n");
      out.write("       \n");
      out.write("        <script type=\"text/javascript\">\n");
      out.write("            function setTarget(i){\n");
      out.write("                if(i==1){\n");
      out.write("                    document.mainForm1.action=\"plot.jsp\";\n");
      out.write("                }\n");
      out.write("                else{\n");
      out.write("                    document.mainForm1.action=\"plot.jsp\";\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("            function GetXmlHttpObject()\n");
      out.write("            {\n");
      out.write("                var xmlHttp = null;\n");
      out.write("                try\n");
      out.write("                {\n");
      out.write("                    //Firefox, Opera 8.0+, Safari,\n");
      out.write("                    xmlHttp = new XMLHttpRequest();\n");
      out.write("                }\n");
      out.write("                catch (e)\n");
      out.write("                {\n");
      out.write("                    //Internet Explorer\n");
      out.write("                    try\n");
      out.write("                    {\n");
      out.write("                        xmlHttp = new ActiveXObject(\"Msxm12.XMLHTTP\");\n");
      out.write("                    }\n");
      out.write("                    catch (e)\n");
      out.write("                    {\n");
      out.write("                        xmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("                return xmlHttp;\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            function getStation(){\n");
      out.write("                //alert(\"hi1234\");\n");
      out.write("                xmlHttp=GetXmlHttpObject();\n");
      out.write("                \n");
      out.write("                var sta=document.getElementById(\"state\").value;\n");
      out.write("                //alert(sta);\n");
      out.write("                \n");
      out.write("                //.getElementById(\"coordinatestate\").value;\n");
      out.write("               // alert(sta);\n");
      out.write("               // System.out.println(\"coordinatestate\"+sta);\n");
      out.write("                // var dist=window.document.sdisform.districtlist.value;\n");
      out.write("                // alert(dist);\n");
      out.write("                var url=\"./getStation.jsp?State=\"+sta;\n");
      out.write("                xmlHttp.open(\"GET\",url,true);\n");
      out.write("                xmlHttp.onreadystatechange=updateCoordinate11;\n");
      out.write("\n");
      out.write("                xmlHttp.send(null);\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            function updateCoordinate11()\n");
      out.write("            {\n");
      out.write("                if(xmlHttp.readyState==4 || xmlHttp.readyState==\"complete\")\n");
      out.write("                {\n");
      out.write("                    if(xmlHttp.status==200)\n");
      out.write("                    {\n");
      out.write("                        var response=xmlHttp.responseText;\n");
      out.write("                        //alert(response);\n");
      out.write("                        document.getElementById(\"stations1\").innerHTML=response;\n");
      out.write("\n");
      out.write("                    }\n");
      out.write("                    else\n");
      out.write("                    {\n");
      out.write("                        alert(\"Error loading page\\n\"+ xmlHttp.status );\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("            </script>\n");
      out.write("            \n");
      out.write("    </head>\n");
      out.write("    <body>\n");
      out.write("      \n");
      out.write("        \n");
      out.write("        \n");
      out.write("    <form action=\"\" name=\"mainForm123\" method=\"POST\" id =\"mainForm1\">\n");
      out.write("            <center><p style=\"color: #0010ac; font-size: 20px; font-weight: bold;\">Welcome To Download AWS Data.</p></center>\n");
      out.write("            <table style=\"background-color: rgb(255, 255, 255); border-color: rgb(100, 166, 210); border-style: solid; border-width: 1px; background-image: url(&quot;Images/table_bg.png&quot;); background-position: center top; background-repeat: repeat-x;\" align=\"center\" width=\"750px\">  \n");
      out.write("                <tbody>\n");
      out.write("                    <tr>\n");
      out.write("                        <td>\n");
      out.write("                            \n");
      out.write("                            <table border=\"0\" align=\"center\" cellspacing=\"3\">\n");
      out.write("                                \n");
      out.write("                                <tbody>\n");
      out.write("                                    <tr>\n");
      out.write("                                        \n");
      out.write("                                        <td align=\"left\" class=\"style2\">State :</td>\n");
      out.write("                                        <td>\n");
      out.write("        <select name=\"State\" id=\"state\" class=\"style2\" Onchange=\"getStation()\">\n");
      out.write("            <option value=\"00\" class=\"style3\">------ All Location ------</option>>\n");
      out.write("            <option value=\"01\">ANDAMAN &amp; NIKOBAR</option>\n");
      out.write("            <option value=\"02\">ANDHRA PRADESH</option>\n");
      out.write("            <option value=\"03\">ANTARTICA</option>\n");
      out.write("            <option value=\"04\">ARUNACHAL PRADESH</option>\n");
      out.write("            <option value=\"05\">ASSAM</option>\n");
      out.write("            <option value=\"06\">BIHAR</option>\n");
      out.write("            <option value=\"07\">CHATTISGARH</option>\n");
      out.write("            <option value=\"08\">DAMAN &amp; DIU</option>\n");
      out.write("            <option value=\"09\">GOA</option>\n");
      out.write("            <option value=\"10\">GUJARAT</option>\n");
      out.write("            <option value=\"11\">HARYANA</option>\n");
      out.write("            <option value=\"12\">HIMACHAL PRADESH</option>\n");
      out.write("            <option value=\"13\">JAMMU &amp; KASHMIR</option>\n");
      out.write("            <option value=\"14\">JHARKHAND</option>\n");
      out.write("            <option value=\"15\">KARNATAKA</option>\n");
      out.write("            <option value=\"16\">KERALA</option>\n");
      out.write("            <option value=\"17\">LAKSHADWEEP</option>\n");
      out.write("            <option value=\"18\">MADHYA PRADESH</option>\n");
      out.write("            <option value=\"19\">MAHARASHTRA</option>\n");
      out.write("            <option value=\"20\">MANIPUR</option>\n");
      out.write("            <option value=\"21\">MEGHALAYA</option>\n");
      out.write("            <option value=\"22\">MIZORAM</option>\n");
      out.write("            <option value=\"23\">NAGALAND</option>\n");
      out.write("            <option value=\"24\">NCR</option>\n");
      out.write("            <option value=\"25\">ORISSA</option>\n");
      out.write("            <option value=\"26\">PONDICHERRY</option>\n");
      out.write("            <option value=\"27\">PUNJAB</option>\n");
      out.write("            <option value=\"28\">RAJASTHAN</option>\n");
      out.write("            <option value=\"29\">SIKKIM</option>\n");
      out.write("            <option value=\"30\">TAMIL NADU</option>\n");
      out.write("            <option value=\"31\">TRIPURA</option>\n");
      out.write("            <option value=\"32\">UTTAR PRADESH</option>\n");
      out.write("            <option value=\"33\">UTTARAKHAND</option>\n");
      out.write("            <option value=\"34\">WEST BENGAL</option>\n");
      out.write("                                            </select>\n");
      out.write("                                            </td>    \n");
      out.write("                                       \n");
      out.write("                                       <td class=\"style2\">\n");
      out.write("                                      \n");
      out.write("                                     ");

            try {
                String state = "";
                /*if (request.getParameter("State") == null) {
                    state = "CHATTISGARH";
                }*/
                state = request.getParameter("State");
                
                DatabaseConnection dbc = new DatabaseConnection();
                dbc.openConnection();
                String query = "SELECT \"State_Id\" FROM \"State\" WHERE \"State_Name\"='" + state + "'";
                String stateid ="";
                ResultSet rs = dbc.fetchData(query);
                while (rs.next()) {
                    stateid = rs.getString(1);
                }
                String query2 = "SELECT \"Station_Name\" FROM \"Station\" WHERE \"Station_Id\" LIKE '" + stateid + "%'";
                ResultSet rs2 = dbc.fetchData(query2);
        
      out.write("\n");
      out.write("        <td class=\"style2\">Loacation :</td>\n");
      out.write("        <td><div id=\"stations1\">\n");
      out.write("            <select name=\"cities\">\n");
      out.write("                 <option value=\"All Location\" class=\"style3\">---- All Locations ----</option>\n");
      out.write("            </select>\n");
      out.write("        </div></td>\n");
      out.write("          ");
} catch (Exception e) {
                    out.println(e.getMessage());
                }
            
      out.write("\n");
      out.write("                                            \n");
      out.write("                                </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                <td colspan=\"4\">&nbsp;</td>\n");
      out.write("                            </tr>\n");
      out.write("                            <tr>\n");
      out.write("                                <td colspan=\"4\">Select All Location : <input type=\"checkbox\" checked=\"checked\" name=\"allcities\" onclick=\"disabledcities()\" /></td>\n");
      out.write("                            </tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                        <td class=\"style2\">From Date :</td>\n");
      out.write("                                        <td>  \n");
      out.write("                                            <input autocomplete=\"off\" readonly=\"readonly\" name=\"txtFromDate\" id=\"datepicker\" size=\"24\" type=\"text\" onchange=\"fillTime()\"/>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td width=\"15px\">&nbsp;</td>             \n");
      out.write("                                        <td class=\"style2\">To Date :</td>\n");
      out.write("                                        <td>  \n");
      out.write("                                           <input autocomplete=\"off\" readonly=\"readonly\" name=\"txtToDate\" id=\"datepicker1\" size=\"20\" type=\"text\" onchange=\"fillTime()\"/>\n");
      out.write("                                        </td>  \n");
      out.write("                                    </tr>\n");
      out.write("                                    <tr></tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                <td colspan=\"4\">&nbsp;</td>\n");
      out.write("                            </tr>\n");
      out.write("                                        <tr>\n");
      out.write("                                       <td class=\"style2\" align=\"center\">\n");
      out.write("                                           <LI>Select Parameter :</li></A>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td width=\"15px\">&nbsp;</td>   \n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td></td>\n");
      out.write("                                   </tr>\n");
      out.write("                                        <tr>\n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"All\" onclick=\"selectCheckbox()\"/> <label class=\"style4\">All</label>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td></td>\n");
      out.write("                                   </tr>\n");
      out.write("                                   <tr>\n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td>\n");
      out.write("                                           <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"MinTemp\"/> <label class=\"style2\">Minimum Temperature</label>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                       <td>\n");
      out.write("                                           <div id=\"minTempsign\"></div>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td>\n");
      out.write("                                           <div id=\"minTemptext\"></div>\n");
      out.write("                                       </td>\n");
      out.write("                                   </tr>\n");
      out.write("                                   <tr>\n");
      out.write("                                       <td></td>\n");
      out.write("                                       <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"MaxTemp\"/> <label class=\"style2\">Maximum Temperature</label>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                       <td>\n");
      out.write("                                            <div id=\"maxTempsign\"></div>\n");
      out.write("                                       </td>\n");
      out.write("                                       <td>\n");
      out.write("                                            <div id=\"maxTemptext\"></div>\n");
      out.write("                                       </td>\n");
      out.write("                                   </tr>\n");
      out.write("                                   <tr>\n");
      out.write("                                        <td></td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"Rainfall\"/> <label class=\"style2\">Rainfall</label>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"rainfallsign\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"rainfalltext\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                        <td></td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"DewPoint\"/> <label class=\"style2\">Dew Point</label>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                        <td>\n");
      out.write("                                             <div id=\"dewpointsign\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                             <div id=\"dewpointtext\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                        <td></td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"SunShine\"/> <label class=\"style2\">SunShine Hour</label>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"sunshinesign\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"sunshinetext\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    <tr>\n");
      out.write("                                        <td></td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <input type=\"checkbox\" id=\"Parameter\" name=\"Parameter\" value=\"WindSpeed\"/> <label class=\"style2\">Wind Speed</label>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td width=\"15px\">&nbsp;</td> \n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"windspeedsign\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <div id=\"windspeedtext\"></div>\n");
      out.write("                                        </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    \n");
      out.write("                                </tbody>\n");
      out.write("                           </table>\n");
      out.write("                            \n");
      out.write("                            <table align=\"Center\" border=\"0\" > \n");
      out.write("                               <tr>\n");
      out.write("                                   <tr>\n");
      out.write("                                <td colspan=\"4\">&nbsp;</td>\n");
      out.write("                            </tr>\n");
      out.write("                            <td align=\"right\">\n");
      out.write("                                <input type=\"submit\"  value=\"ViewData\" class=\"send_button\" onclick=\"Submit(1)\"/>\n");
      out.write("                                </td>\n");
      out.write("                                   <td>\n");
      out.write("                                       <input type=\"submit\" value=\"Download\" class=\"send_button\" onclick=\"Submit(2)\"/>\n");
      out.write("                                       \n");
      out.write("                                   </td>\n");
      out.write("                                </tr>\n");
      out.write("                                          \n");
      out.write("                           </table>\n");
      out.write("                </tbody>\n");
      out.write("            </table>\n");
      out.write("    </form>\n");
      out.write("            <table align=\"center\">\n");
      out.write("                <tr>\n");
      out.write("                    <td></td>\n");
      out.write("                    <td>\n");
      out.write("            <iframe align=\"center\" name=\"table\" width=\"750px\" height=\"200\" frameborder=\"0\">\n");
      out.write("</iframe> \n");
      out.write("</td>\n");
      out.write("</tr>\n");
      out.write("</table>\n");
      out.write("                \n");
      out.write("                    \n");
      out.write("    \n");
      out.write("   \n");
      out.write("        \n");
      out.write("          \n");
      out.write("        </body>\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
